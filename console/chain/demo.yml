command:
  name: demo
  description: 'Installs drupal and modules'
commands:
  # Install Drupal
  - command: site:install
    arguments:
      profile: standard
    options:
      db-type: sqlite
      account-name: admin
      account-pass: demo
      no-interaction: true
  # Enable modules
  - command: module:install
    arguments:
      module: 
      - sharerich
      - captcha_keypad
      - boxout
      - config_token
      - csv_to_config
      - feedbackify
      - config_update
      - config_inspector
      - simpletest
  # Start PHP built-in server
  - command: exec
    arguments:
      bin: drupal server &
  # Run tests
  - command: exec
    arguments:
      bin:  cd web && php core/scripts/run-tests.sh --color --concurrency "31" --url http://127.0.0.1:8088 --directory modules/contrib
